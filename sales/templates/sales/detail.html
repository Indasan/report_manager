{% extends 'base.html' %}

{% block title %}
    Информация о объекте: {{ object.transaction_id }}
{% endblock title %}

{% block content %}
    <div class='row mt-3 mb-3'>
        <div class='col-3'>
            <img src='{{object.customer.logo.url}}' class='img-fluid' alt="{{object.customer.name}}">
        </div>
        <div class='col-9'>
            <ul>
                <li>Номер транзакции: <b>{{object.transaction_id}}</b></li>
                <li>Продавец: <b>{{object.salesman.user.username}}</b></li>
            </ul>
        </div>
    </div>

    <table class="table">
    <thead>
        <tr>
        <th scope="col">#</th>
        <th scope="col">Товар</th>
        <th scope="col">Количество</th>
        <th scope="col">Цена</th>
        <th scope="col">Покупатель</th>
        </tr>
    </thead>
    <tbody>
    {% for pos in object.get_positions %}
        <tr>
            <th scope="row">{{forloop.counter}}</th>
            <td>{{pos.product.name}}</td>
            <td>{{pos.quantity}}</td>
            <td>{{pos.price}}</td>
            <td>{{pos.get_customer_name}}</td>
        </tr>
    {% endfor %}
       
    </tbody>
    </table>
{% endblock content %}